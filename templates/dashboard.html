{% extends 'layout.html' %}

{% block title%} Dashboard - My Flask App {% endblock %}
{% block body%}
    <h1>Dashboard<small> Welcome {{session.name}}</small></h1>
    <a class="btn btn-primary" href="/add_article">Add Article</a>
    <hr>
    <table class="table table-striped">
        <tr>
            <th>Title</th>
            <th>Body</th>
            <th>Author</th>
            <th>Created</th>
            <th></th>
            <th></th>
        </tr>
        {% for article in articles %}
        <tr>
            <th>{{article.title}}</th>
            <th>{{article.body | safe}}</th>
            <th>{{article.author}}</th>
            <th>{{article.create_date}}</th>
            <th><a href="/edit_article/{{article.id}}" class="btn btn-warning pull-right" >Edit</a></th>
            <th>
                <form action="{{url_for('Delete_Article',id=article.id)}}" method="POST">
                    <input type="hidden" name="_method" value="DELETE">
                    <input type="submit" value="Delete" class="btn btn-danger">
                </form>
            </th>
        </tr>
        {% endfor%}

    </table>
{% endblock%}